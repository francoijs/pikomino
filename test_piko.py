from unittest import TestCase
from piko import find_candidates

class TestPiko(TestCase):
    def test_find_candidates(self):
        data = [
            # choose and roll again
            ( ([0,0,0,0,0,0], [0,8,0,0,0,0], 21) , [1] ),
            ( ([0,0,0,0,0,0], [1,3,1,1,1,1], 21) , [0,1,2,3,4,5] ),
            ( ([2,0,0,0,0,2], [0,4,0,0,0,0], 25) , [1] ),
            ( ([1,0,1,0,1,0], [1,1,1,0,1,1], 21) , [1,5] ),
            # miss because of score
            ( ([1,1,1,1,1,1], [0,0,0,1,0,1], 21) , [] ),
            ( ([1,0,1,0,1,0], [1,0,3,0,1,0], 21) , [] ),
            ( ([2,4,0,0,0,2], [0,0,0,0,0,0], 25) , [] ),
            # miss because of pikos
            ( ([0,0,1,0,1,4], [0,0,1,0,1,0], 21) , [] ),
            ( ([0,0,3,0,1,4], [0,0,0,0,0,0], 21) , [] ),
            # choose and stop
            ( ([0,0,0,0,0,0], [8,0,0,0,0,0], 21) , [0,6] ),
            ( ([2,0,0,0,0,2], [0,1,1,1,1,0], 21) , [1,2,3,4,7,8,9,10] ),
            # steal opponent
            ( ([2,0,0,0,0,2], [0,1,1,1,1,0], 25) , [1,2,3,4,7] ),
            ( ([2,0,0,0,0,2], [0,1,1,1,1,0], 24) , [1,2,3,4,7,10] ),
        ]
        for d in data:
            state = d[0]
            cands = d[1]
            self.assertEqual(find_candidates(state,21), cands)
    
